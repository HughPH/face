!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){const r=n(1),o={};let a=[];const s=(...e)=>{e.forEach(e=>{if(Array.isArray(e))return void e.forEach(s);const t=fetch(e+".js").then(e=>"text/javascript"!=e.headers.get("Content-Type")?(console.warn("Incorrect content type from "+screenLeft+".js"),""):e.text()).then(t=>{let n;try{n=new Function("module",t)}catch(t){return void console.error("Failed to parse "+e,t)}const r={};return n(r),r.init});a.push(t)})},i={libs:{jel:r},require:s,register:(e,t)=>{if(void 0!==t){if(!(t instanceof Function))throw new Error("Argument is not a function");if(!e)throw new Error("Empty script name");if(void 0!==o[e]){if(t===o[name])return;throw new Error(`Conflicting script name '${e}'`)}o[e]=t}else Object.keys(e).forEach(t=>i.register(t,e[t]))},await:e=>a.push(e),apply:e=>Promise.all(a).then(()=>{a=[],e instanceof r.Jel||(e=r.wrapHtmlElement(e)),e.qsa("[data-face-script").forEach(e=>{const t=e.data["face-script"],n=o[t];delete e.data["face-script"],n?n(e):console.warn(`Missing script '${t}'; you may need to enable a client feature.`)})})};Object.defineProperty(window,"face",{value:i}),setTimeout(()=>i.apply(document.body),0)},function(e,t){const n=Symbol(),r=function e(t,r={}){if((r={...r}).classes?r.classes=Array.isArray(r.classes)?r.classes:r.classes.split(/\s+/):r.classes=[],void 0===t)throw new Error("Entity type is undefined");const a={},s=e=>Object.defineProperties(this,e);s.values=e=>{Object.keys(e).forEach(t=>Object.defineProperty(this,t,{value:e[t]}))},s.readOnly=e=>{Object.keys(e).forEach(t=>Object.defineProperty(this,t,{get:e[t]}))},s.writeOnly=e=>{Object.keys(e).forEach(t=>Object.defineProperty(this,t,{set:e[t]}))},s.importDom=e=>{["absoluteTop","absoluteLeft","style","attribs","data","parent","qsa"].forEach(t=>Object.defineProperty(this,t,{get:()=>e[t]}))};const i=t(r,s,(e,t)=>{a[e]&&a[e].forEach(e=>e(t))});let l;if(this.entityType=t.name,i instanceof e)l=i.domElement;else{if(!(i instanceof HTMLElement))throw new Error("Invalid return type from entity definition");l=i,i[n]=this}if(t!==f){(i instanceof e?i:o(i)).entity=this}this.on||(this.on=(e,t)=>{void 0===a[e]&&(a[e]=[]),a[e].push(t)}),this.off||(this.off=(e,t)=>{if(void 0===a[e])return;const n=a[e].indexOf(t);-1!==n&&a[e].splice(n)}),r.events&&Object.keys(r.events).forEach(e=>{r.events[e]&&this.on(e,r.events[e])});const c=r.id;Object.defineProperties(this,{id:{value:c},domElement:{value:l,enumerable:!0},hasAncestor:{value:e=>{let t=e instanceof HTMLElement?t:e.domElement,n=this.parent;for(;n;){if(n.domElement===t)return!0;n=n.parent}return!1}}})},o=e=>{if("string"==typeof e&&(e=document.querySelector(e)),!(e instanceof HTMLElement))throw new Error("Expecting HTMLElement");return e[n]||(e[n]=new r(f,{id:e.id,wrapping:e})),e[n]},a=e=>{const t=[],n=document.createElement("div");for(n.innerHTML=e;n.childNodes.length;){let e=n.childNodes[0];n.removeChild(e),e instanceof Text||(e=o(e)),t.push(e)}return t},s={get:(e,t)=>e.getAttribute(t),set:(e,t,n)=>(e.setAttribute(t,n),!0),has:(e,t)=>e.hasAttribute(t),deleteProperty:(e,t)=>(e.removeAttribute(t),!0),ownKeys:e=>Array.from(e.attributes).map(e=>e.name),enumerable:!0},i={get:(e,t)=>{const n=e.getAttribute("data-"+t);return null===n?void 0:n},set:(e,t,n)=>(e.setAttribute("data-"+t,n),!0),has:(e,t)=>e.hasAttribute("data-"+t),deleteProperty:(e,t)=>e.removeAttribute("data-"+t),ownKeys:e=>Reflect.ownKeys(e.dataset),enumerable:!0},l=e=>Object.keys(e).map(t=>`${t}(${e[t]})`).join(" "),c={set:(e,t,n)=>{let r;return(r=t.match(/^filter_(\w+)$/))?(e.filters[r[1]]=n,e.element.style.filter=l(e.filters),!0):(r=t.match(/^transform_(\w+)$/))?(e.transforms[r[1]]=n,e.element.style.transform=l(e.transforms),!0):(e.element.style[t]=n,!0)},get:(e,t)=>"animate"===t&&r.twixt?(t,n,o)=>{const a={};return Object.keys(n).forEach(t=>{let r;r=(match=t.match(/^filter_(\w+)$/))?e.filters[match[1]]:(match=t.match(/^transform_(\w+)$/))?e.transforms[match[1]]:e.element.style[t],a.push({from:r,to:n[t],ease:o})}),r.twixt.animate(e.element.style,t,a)}:(match=t.match(/^filter_(\w+)$/))?e.filters[match[1]]:(match=t.match(/^transform_(\w+)$/))?e.transforms[match[1]]:e.element.style[t]},f=(e,t)=>{const n=(e={...e}).wrapping?e.wrapping:document.createElement(e.tag);if(e.wrapping)e.content=Array.from(n.childNodes);else{let t=e.classes&&e.classes.filter(e=>e)||[];t.length&&(n.className=t.join(" "))}if(e.html){if(e.content)throw new Error("HTML entity spec can include content OR html");e.content=a(e.html)}const l=new Proxy(n,s),f=new Proxy(n,i),u=(e=>new Proxy({element:e,filters:{},transforms:{}},c))(n);e.attribs&&Object.keys(e.attribs).forEach(t=>n.setAttribute(t,e.attribs[t])),e.data&&Object.keys(e.data).forEach(t=>n.setAttribute("data-"+t,e.data[t]));const m=()=>n.offsetLeft+(n.offsetParent?o(n.offsetParent).absoluteLeft:0),d=()=>n.offsetTop+(n.offsetParent?o(n.offsetParent).absoluteTop:0),p={enabled:{get:()=>!n.disabled,set:e=>n.disabled=!e}};["value","checked"].forEach(e=>{p[e]={get:()=>n[e],set:t=>n[e]=t,enumerable:!0}}),["click","getContext","focus","blur"].forEach(e=>{p[e]={get:()=>n[e].bind(n)}});const y=e=>{if(!e)return;let a;if(Array.isArray(e))e.forEach(y);else{if(e instanceof HTMLElement)a=o(e);else if(e instanceof Text)a=e;else if(["string","number"].includes(typeof e))a=new Text(e);else if(e instanceof r)a=e;else{if(!e.type)throw new Error("Invalid entity type");a=new r(e.type,e)}a instanceof Text?n.appendChild(a):(a.id&&(p["$"+a.id]={get:()=>a,enumerable:!0,configurable:!0}),t(p),n.appendChild(a.domElement))}},h=new WeakMap,b=e=>(h.has(e)||h.set(e,t=>{void 0!==t.clientX&&void 0===t.innerX&&(t.innerX=t.clientX-m()),void 0!==t.clientY&&void 0===t.innerY&&(t.innerY=t.clientY-d()),e(t)}),h.get(e));return t({classes:{value:n.classList,enumerable:!0},attribs:{value:l,enumerable:!0},data:{value:f,enumerable:!0},on:{value:(e,t)=>n.addEventListener(e,b(t))},off:{value:(e,t)=>n.removeEventListener(e,b(t))},absoluteLeft:{get:m},absoluteTop:{get:d},qsa:{value:e=>Array.from(n.querySelectorAll(e)).map(o)},parent:{get:()=>n.parentElement&&o(n.parentElement)},style:{get:()=>u,set:(e,t)=>{n.style[e]=t},enumerable:!0},tag:{get:()=>n.tagName.toLowerCase()},content:{get:()=>[...n.childNodes].map(e=>e instanceof Text?e:o(e)),set:e=>{n.innerHTML="",y(e)},enumerable:!0},html:{get:()=>n.innerHTML,set:e=>{n.innerHTML=e},enumerable:!0},text:{get:()=>n.textContent,set:e=>{n.innerHTML="",y(e)},enumerable:!0},append:{value:y,enumerable:!0},remove:{value:e=>{const t=e instanceof r?e.domElement:e;if(!(e instanceof r))throw new Error("Invalid type");n.removeChild(t),e instanceof r&&e.id&&delete entity["$"+e.id]}},...p}),e.content&&y(e.content),e.style&&Object.keys(e.style).forEach(t=>u[t]=e.style[t]),e=null,n},u=(e={})=>{let t={};Object.keys(e).forEach(n=>{t[n]=(t,o)=>{const a=new r(e[n],t);return o&&((e,t)=>{if(t instanceof r)t.append(e);else{if(!(t instanceof HTMLElement))throw new Error("Incompatible type");t.appendChild(e.domElement)}})(a,o),a}});return{dom:new Proxy(()=>{},{apply:(e,t,n)=>(e=>{if(e instanceof HTMLElement)return o(e);if("string"==typeof e)return"<"===e[0]?a(e)[0]:o(document.querySelector(e));throw new Error("Invalid argument")})(...n),get:(e,t)=>(e={})=>new r(f,{...e,tag:t})}),createType:e=>(t={})=>new r(e,t),...t}};e.exports={createParser:u,wrapHtmlElement:o,Jel:r,dom:u().dom}}]);